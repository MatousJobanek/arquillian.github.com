<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Começando: Refaça &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Parte 2 do guia Começando. Reveja seu progresso explorando um exemplo um pouco mais complexo e aprenda como usar containers remotos." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css?b52ff7178db0becf75d043579212b77c1f982da3" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/docs/">Docs</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/modules/">Modules</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
      <div id="content-header">
        <div class="container">
          <div class="headline">
            <h1>
              <a href="/guides/">Arquillian Guides</a>
              <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
            </h1>
            <div class="directory">
              <a class="guides_menu" href="./" id="guides_menu">
                Guides Index
                <i class="icon-menu-closed"></i>
              </a>
              <div id="guides" style="display: none">
                <a class="guides_menu" href="./">
                  Guides Index
                  <i class="icon-menu-open"></i>
                </a>
                <hr class="clear" />
                <dl class="beg">
                  <dt>First Steps</dt>
                  <dd><a href="/guides/getting_started/">Getting Started</a>
                  <br />
                  <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_el_gr/"><img class="flag" rel="tooltip" src="/images/flags/el_gr.png" title="Ελληνικά (el_gr)" /></a>
                  <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
                  <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_sk/"><img class="flag" rel="tooltip" src="/images/flags/sk.png" title="Slovenčina (sk)" /></a>
                  <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
                  <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
                  <br />
                  <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a></dd>
                  <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a>
                  <br />
                  <a href="/guides/shrinkwrap_introduction/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/shrinkwrap_introduction_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/shrinkwrap_introduction_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/shrinkwrap_introduction_it/"><img class="flag" rel="tooltip" src="/images/flags/it.png" title="Italiano (it)" /></a>
                  <a href="/guides/shrinkwrap_introduction_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
                  <a href="/guides/shrinkwrap_introduction_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
                  <a href="/guides/shrinkwrap_introduction_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                </dl>
                <dl class="int">
                  <dt>More Coverage</dt>
                  <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
                  <br />
                  <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
                  <a href="/guides/testing_java_persistence_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
                  <a href="/guides/testing_java_persistence_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
                  <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
                  <a href="/guides/testing_java_persistence_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
                  <a href="/guides/testing_java_persistence_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
                  <dd><a href="/guides/functional_testing_using_graphene/">Functional Testing using Drone and Graphene</a></dd>
                  <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
                </dl>
                <dl class="adv">
                  <dt>Enhance</dt>
                  <dd><a href="/guides/developing_a_container_adapter/">Developing a Container Adapter</a></dd>
                </dl>
                <dl class="ref">
                  <dt>Reference</dt>
                  <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
                  <dd><a href="http://docs.jboss.org/arquillian/aggregate/latest">API &amp; SPI Docs</a></dd>
                  <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
                  <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
                </dl>
              </div>
            </div>
            <script>$(function() { activateGuideMenuControl() })</script>
          </div>
        </div>
      </div>
      <div class="container" id="guide">
        <div id="content" lang="pt">
            <div class="header">
            <div class="titlebar">
            <h2>Começando: Refaça</h2>
            <div class="btn-group">
              <a class="btn" href="https://github.com/arquillian/arquillian.github.io/edit/develop/guides/getting_started_rinse_and_repeat_pt.textile">Edit this file</a>
            </div>
          </div>
            <div class="authors"><strong>Author:</strong>
          <a href="/community/mojavelinux">Dan Allen</a>  <strong style="padding-left: 10px;">Translator:</strong>
          <a href="/community/rafaelsakurai">Rafael Sakurai</a>  <strong style="padding-left: 10px;">Language:</strong>
          <img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" />
          <br />
          <strong style="padding-left: 0px;">Last Update:</strong>Mar 22, 2017</div>
            <p>Nessa continuação do guia <a href="/guides/getting_started">Começando</a>, você terá a chance de rever o que aprendeu sobre Arquillian explorando um exemplo um pouco mais complexo. Depois de ler este guia você será capaz de:</p>
            <ul>
          	<li>Escrever teste Arquillian que usa CDI (Contexts and Dependency Injection) com EJB (Enterprise JavaBeans);</li>
          	<li>Executar teste Arquillian em container remoto;</li>
          	<li>Depurar teste Arquillian dentro do container remoto.</li>
          </ul>
            <p>Como parte do aprendizado dessas técnicas, você também utilizará profiles Maven para geração dos builds (construções). Quando ativado, esses profiles irão pegar e executar os testes Arquillian no container (Servidor de Aplicações) remoto. Desta forma você pode testar o <em>negócio real</em>. Sem mocks. Nem mesmo runtimes embarcadas! E como você já fez a parte mais trabalhosa na primeira parte do guia, isso não tomará muito tempo.</p>
            </div>
            <h3 id="considera&#231;&#245;es">Considerações</h3>
          <p>Esse guia assume que você já adicionou a infra estrutura do Arquillian no seu projeto e já escreveu e executou pelo menos um teste Arquillian. Se você ainda não fez isso, por favor, leia o guia <a href="/guides/getting_started">Começando</a> para se familiar com o básico do Arquillian. Você também precisará como pré requisito os softwares mencionados naquele guia.</p>
          <h3 id="criando_os_componentes">Criando os componentes</h3>
          <p>Nesse guia iremos criar uma parte de negócio básica para uma aplicação de shopping. Usaremos um componente de cesta (basket) para armazenar os itens selecionados pelo visitante e um componente de repositório para armazenar e recuperar os pedidos. Implementaremos esses componentes utilizando CDI e EJB, respectivamente. Podemos começar imediatamente usando esses dois modelos de programação uma vez que já temos a API do Java EE 6 no classpath. (Veja o guia <a href="/guides/getting_started">Começando</a> para obter as instruções de como adicionar a API no seu projeto).</p>
          <p>Vamos começar com o componente que move os pedidos para um armazenamento persistente. Seguindo os bons designs de software e para simplificar os testes começaremos definindo uma interface que define o contrato. Na sua IDE, crie um EJB local chamado <code>OrderRepository</code> e adicione o seguinte conteúdo nele:</p>
          <div class="filename">src/main/java/org/arquillian/example/OrderRepository.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.util.List;&#x000A;import javax.ejb.Local;</code>&#x000A;&#x000A;<code class="prettify">@Local&#x000A;public interface OrderRepository {&#x000A;    void addOrder(List&lt;String&gt; order);&#x000A;    List&lt;List&lt;String&gt;&gt; getOrders();&#x000A;    int getOrderCount();&#x000A;}</code></pre>
          <p>Não se preocupe com a implementação por enquanto, vamos pular a parte de como usar esse contrato.</p>
          <p>Os visitantes que navegarem no site, eles irão colocar os itens na cesta para comprar. Para esse cenário, usaremos o bean CDI que está associado com a sessão HTTP do visitante. Esse componente irão então delegar para o EJB <code>OrderRepository</code> quando os visitantes quiserem comprar os itens selecionados.</p>
          <p>Na sua IDE, cria uma classe chamada <code>Basket</code> e vincule-o no contexto da sessão adicionando a anotação de escopo <code>@SessionScoped</code>, como mostrado a seguir:</p>
          <div class="filename">src/main/java/org/arquillian/example/Basket.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.Serializable;&#x000A;import java.util.ArrayList;&#x000A;import java.util.Collections;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">import javax.annotation.PostConstruct;&#x000A;import javax.ejb.EJB;&#x000A;import javax.enterprise.context.SessionScoped;</code>&#x000A;&#x000A;<code class="prettify">@SessionScoped&#x000A;public class Basket implements Serializable {&#x000A;    private static final long serialVersionUID = 1L;&#x000A;    private List&lt;String&gt; items;</code>&#x000A;    &#x000A;<code class="prettify">    @EJB&#x000A;    private OrderRepository repo;</code>&#x000A;    &#x000A;<code class="prettify">    public void addItem(String item) {&#x000A;        items.add(item);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public List&lt;String&gt; getItems() {&#x000A;        return Collections.unmodifiableList(items);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public int getItemCount() {&#x000A;        return items.size();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public void placeOrder() {&#x000A;        repo.addOrder(items);&#x000A;        items.clear();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @PostConstruct&#x000A;    void initialize() {&#x000A;        items = new ArrayList&lt;String&gt;();&#x000A;    }&#x000A;}</code></pre>
          <p>Como você pode ver, estamos injetando um EJB em um bean CDI. Justamente a integração que queremos testar!</p>
          <h3 id="implementa&#231;&#227;o_por_fases">Implementação por fases</h3>
          <p>Ainda não podemos escrever um teste porque ainda não temos a implementação do <code>OrderRepository</code>.</p>
          <p>Apenas para esses exemplos, vamos assumir que a <code>OrderRepository</code> está sendo implementado por outra equipe (ou em outra interação). Aqui está uma das funcionalidades que o micro-deployment do Arquillian se destaca. Vamos criar uma implementação em memória de um EJB singleton e empacotá-lo no arquivo de teste para obter uma aplicação funcionando em um curto tempo. (Podemos até decidir manter essa implementação com o objetivo de testar essa parte).</p>
          <p>Crie a classe <code>SingletonOrderRepository</code> no seu <em>classpath de teste</em> e adicione nele o seguinte código:</p>
          <div class="filename">src/test/java/org/arquillian/example/SingletonOrderRepository.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.util.ArrayList;&#x000A;import java.util.Collections;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">import javax.annotation.PostConstruct;&#x000A;import javax.ejb.Lock;&#x000A;import javax.ejb.LockType;&#x000A;import javax.ejb.Singleton;</code>&#x000A;&#x000A;<code class="prettify">@Singleton&#x000A;@Lock(LockType.READ)&#x000A;public class SingletonOrderRepository implements OrderRepository {&#x000A;    private List&lt;List&lt;String&gt;&gt; orders;</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    @Lock(LockType.WRITE)&#x000A;    public void addOrder(List&lt;String&gt; order) {&#x000A;        orders.add(order);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    public List&lt;List&lt;String&gt;&gt; getOrders() {&#x000A;        return Collections.unmodifiableList(orders);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    public int getOrderCount() {&#x000A;        return orders.size();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @PostConstruct&#x000A;    void initialize() {&#x000A;        orders = new ArrayList&lt;List&lt;String&gt;&gt;();&#x000A;    }&#x000A;}</code></pre>
          <p>O bônus adicional dessa implementação é que ganhamos a oportunidade de brincar com a nova funcionalidade de singleton do EJB 3.1 junto com o Arquillian. Isso porque queremos dizer que o Arquillian é um ambiente de aprendizado além de ser uma ferramenta de teste.</p>
          <p>Agora já podemos escrever o teste Arquillian.</p>
          <h3 id="escrevendo_o_teste">Escrevendo o teste</h3>
          <p>Vamos escrever um teste que simula a adição de itens em uma instância da cesta (<code>Basket</code>), use essa instância no lugar do pedido e então valide se o pedido foi processado e armazenado na instância única do <code>OrderRepository</code>.</p>
          <p class="info"><span>E claro que estamos testando apenas com a implementação em memória. Você irá aprender como escrever um teste que usa um banco de dados no guia <a href="/guides/testing_java_persistence">Testando a persistência em Java</a>. Depois você pode voltar a este guia e trocar para a implementação do JPA.</span></p>
          <p>Crie a classe <code>BasketTest</code> e adicione a anotação <code>@RunWith(Arquillian.class)</code> para deixá-la como um teste Arquillian:</p>
          <div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;}</code></pre>
          <p>A seguir defina um arquivo de teste que inclua a cesta, a interface de repositório de pedido e a sua implementação singleton. Também precisaremos de um arquivo beans.xml vazio para ativar o CDI (o EJB é ativado automaticamente). Note como temos o controle completo sobre o classpath definindo explicitamente o que terá dentro do arquivo.</p>
          <div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClasses(Basket.class, OrderRepository.class, SingletonOrderRepository.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }&#x000A;}</code></pre>
          <p>Agora falta injetar a cesta e o repositório de pedido no caso de teste e testar sua interação. Podemos injetar a interface do EJB, não sua implementação. O container EJB automaticamente encontra a implementação da interface para usá-la.</p>
          <p>Por padrão no JUnit, os métodos <code>@Test</code> são executados em qualquer ordem. A integração do JUnit com o Arquillian fornece uma anotação chamada <code>@InSequence</code> que pode ser utilizada para informar a ordem de execução dos testes. Usaremos a <code>@InSequence</code> nesse caso de teste para colocar dois pedidos no primeiro método de teste, então garantimos que o repositório terá dois itens quando o segundo método de teste executar.</p>
          <div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
          <pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import javax.ejb.EJB;&#x000A;import javax.inject.Inject;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.arquillian.junit.InSequence;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClasses(Basket.class, OrderRepository.class, SingletonOrderRepository.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    Basket basket;</code>&#x000A;    &#x000A;<code class="prettify">    @EJB&#x000A;    OrderRepository repo;</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    @InSequence(1)&#x000A;    public void place_order_should_add_order() {&#x000A;        basket.addItem("sunglasses");&#x000A;        basket.addItem("suit");&#x000A;        basket.placeOrder();&#x000A;        Assert.assertEquals(1, repo.getOrderCount());&#x000A;        Assert.assertEquals(0, basket.getItemCount());</code>&#x000A;        &#x000A;<code class="prettify">        basket.addItem("raygun");&#x000A;        basket.addItem("spaceship");&#x000A;        basket.placeOrder();&#x000A;        Assert.assertEquals(2, repo.getOrderCount());&#x000A;        Assert.assertEquals(0, basket.getItemCount());&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    @InSequence(2)&#x000A;    public void order_should_be_persistent() {&#x000A;        Assert.assertEquals(2, repo.getOrderCount());&#x000A;    }&#x000A;}</code></pre>
          <p>O teste está escrito. Agora precisamos começar a configuração para executá-lo.</p>
          <h3 id="adicionando_os_containers_remotos">Adicionando os containers remotos</h3>
          <p>O teste que escrevemos usa ambos CDI e EJB. Essa combinação excede as funcionalidades que podem ser oferecidos pelos containers embarcados (como o Weld Embedded ou OpenEJB Embedded). É simples usar um container que suporta o Java EE. Além disso, podemos obter testes mais precisos. Então, por enquanto vamos deixar os containers embarcados de lado.</p>
          <p>No guia anterior, usamos ambos containers embarcado e gerenciado. Em ambos os casos o Arquillian precisou iniciar o container quando o conjunto de testes começou e depois parou o container quando os testes terminaram. E se você já tiver um container iniciado (ou você está disposto a iniciar um container para testes)? Obviamente isso é a maneira mais rápida para executar os testes. Mesmo se o container iniciar muito rápido, nada bate o inicio prévio do container.</p>
          <p>Os containers remotos fornecem um ambiente de desenvolvimento ideal para os testes de integração. Eles também permitem depurar os testes de uma forma bem fácil, que será abordado posteriormente. Já que não há referencia para o container no teste, usar o container remoto durante a depuração não previne você de usar o gerenciamento por container para integração continua. Na verdade, os containers gerenciados são os melhores para os ambientes de integração continua.</p>
          <p class="warning"><span>O termo <em>remoto</em> referece a separar os processos, não necessariamente uma maquina separada, embora ele suporte ambos cenários.</span></p>
          <p>Um container remoto é um processo standalone no qual o Arquillian publica usando as APIs de publicação do container do cliente. Portanto, você precisa dessas bibliotecas:</p>
          <ul>
          	<li>APIs do modelo programado (que são necessários para empacotar caso o container não forneça);</li>
          	<li>O adaptador do container remoto do Arquillian;</li>
          	<li>As APIs de publicação do cliente para comunicação com os processos do container.</li>
          </ul>
          <p>No seu arquivo pom.xml do Maven, adicione dois novos profiles dentro do elemento <code>&lt;profiles&gt;</code>. O primeiro profile usa um container remoto do JBoss AS 7.1:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-jbossas-remote&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-arquillian-container-remote&lt;/artifactId&gt;&#x000A;            &lt;version&gt;7.1.1.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.protocol&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-protocol-servlet&lt;/artifactId&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="info"><span>Por padrão, o JBoss AS 7 publica os arquivos de teste no servidor usando o protocolo JMX. Seguiremos em frente e adicionamos a dependência para o protocolo Servlet no profile <code>arquillian-jbossas-managed</code>, só assim ele poderá ser utilizado no futuro. Veja <a href="https://community.jboss.org/wiki/WhyDoIGetNoActiveContextsForScopeTypeWhenTestingOnJBossAS7">esse FAQ</a> para ver as instruções de como fazer a troca.</span></p>
          <p>O segundo profile usa um container remoto do GlassFish 3.1.2:</p>
          <div class="filename">pom.xml</div>
          <pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-glassfish-remote&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;weld-api&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.1.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-remote-3.1&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.CR3&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
          <p class="info"><span>O adaptador remoto do GlassFish usa o Jersey para comunicar com o container via JAX-RS (REST), que é obtido através da dependência transitiva. A API do Weld é necessária para deserializar as exceções retornadas no container de teste.</span></p>
          <p>Uma vez adicionado o profile no pom.xml, clique com o botão direito no projeto dentro do Eclipse e selecione Maven &gt; Update Project Configuration. Se o projeto apresentar algum erro de compilação, você precisa ativar um dos profiles.</p>
          <p>Lembre-se que há duas maneiras de ativar um profile do Maven no Eclipse (assumindo que você está usando o <a href="http://www.eclipse.org/m2e">Maven Integration for Eclipse</a>):</p>
          <ol>
          	<li>Configuração manual (abordagem padrão);</li>
          	<li>Seletor de profile do Maven (JBoss Tools).</li>
          </ol>
          <p>Veja no guia <a href="/guides/getting_started#test_across_containers">Começando</a> as instruções de como ativar um profile. Uma vez que o profile está ativo, o projeto deve compilar.</p>
          <p>Os adaptadores de container remoto esperam que o container esteja executando. Portanto, vamos começar a configuração do container para que possamos iniciá-lo através da IDE antes de executar os testes.</p>
          <h3 id="controle_os_servidores">Controle os Servidores</h3>
          <p>A maneira mais fácil para gerenciar os containers remotos é configurando através da IDE. Se você é uma pessoa que prefere mais a linha de comando, então você pode pular esses passos e iniciar o servidor usando um script de inicialização apropriado.</p>
          <p>Será mostrado como adicionar os controles do servidor (container) no Eclipse. O processo é similar para outras IDEs. Para o Eclipse, você precisará de ambos <a href="http://jboss.org/tools">JBoss Tools</a> e o <a href="http://marketplace.eclipse.org/content/glassfish-java-ee-application-server-plugin-eclipse/metrics">GlassFish Java EE Application Server Plugin</a>, ambos estão disponíveis no MarketPlace do Eclipse.</p>
          <p>No eclipse, selecione Window &gt; Show View &gt; Servers na barra de menu. Após abrir a tela, clique com o botão direito e selecione New &gt; Server. Crie um controle de servidor para o JBoss AS 7.1:</p>
          <p><img src="/images/guides/arquillian_tutorial_2_new_jbossas_server.png" alt="" /></p>
          <p>e outro para o GlassFish 3.1.2:</p>
          <p><img src="/images/guides/arquillian_tutorial_2_new_glassfish_server.png" alt="" /></p>
          <p class="info"><span>O instalador do JBoss AS necessita que já existe uma instalação. O instalador do GlassFish 3.1.2 fornece uma opção para realizar o download e extração automática da distribuição.</span></p>
          <p>Uma vez que você completo a instalação de cada container, você terá a seguinte aparência na visão de servidores:</p>
          <p><img src="/images/guides/arquillian_tutorial_2_servers_view.png" alt="" /></p>
          <p>Para iniciar um servidor, selecione uma entrada (como mostrada na imagem anterior) e clique no ícone verde de play na barra de tarefa.</p>
          <p class="info"><span>O Arquillian assume que o container está executando nas portas padrões. Se você modificou as portas, você pode usar o arquillian.xml para especificar as portas que você utilizará para cada container. Consulte o <a href="https://docs.jboss.org/author/display/ARQ/Container+adapters">guia de referência</a> para mais detalhes.</span></p>
          <p>Agora que os container estão prontos e aguardando, está na hora de executar os testes neles.</p>
          <h3 id="executando_o_teste_do_arquillian">Executando o Teste do Arquillian</h3>
          <p>Para executar o teste Arquillian, você precisa executar os seguintes passos:</p>
          <ol>
          	<li>Inicie um container remoto;</li>
          	<li>Ative o profile do Maven que adiciona o adaptador correspondente ao container no classpath;</li>
          	<li>Execute o teste.</li>
          </ol>
          <p>Vamos começar com o JBoss AS.</p>
          <h4>Executando o teste no JBoss AS</h4>
          <p>Para executar o teste no JBoss AS, comece iniciando o container do JBoss AS. Abra a visão Servers, selecione JBoss AS 7.1, então clique no botão verde de play. Aguarde enquanto o servidor inicia (normalmente não demora).</p>
          <p>Uma vez que o servidor está iniciado e executando, ative o profile <code>arquillian-jbossas-remote</code> do Maven usando a aba de propriedades do Maven ou o selecionador de profile do JBoss Tools Maven. O editor de profile a seguir apresenta como selecionar corretamente:</p>
          <p><img src="/images/guides/arquillian_tutorial_2_jbossas_profile_selection.png" alt="" /></p>
          <p>Finalmente, clique com o botão direito na classe <code>BasketTest</code> e selecione Run As &gt; JUnit Test. Você poderá ver várias atividades na tela do console e então&#8230; uma <strong class="greenbar">barra verde</strong> na tela do JUnit!</p>
          <p>Você também pode executar o teste usando a linha de comando do Maven:</p>
          <pre class="command"><code class="command">$ mvn test -Parquillian-jbossas-remote -Dtest=BasketTest</code></pre>
          <p>Você deverá ver as seguintes linhas impressas no console:</p>
          <pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.BasketTest&#x000A;...&#x000A;Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.844 sec</code></pre>
          <p><strong>Parabéns!</strong> Você ganhou sua primeira <strong class="greenbar">barra verde</strong> com o Arquillian usando um container remoto.</p>
          <p class="info"><span>Você também pode injetar o EJB <code>OrderRepository</code> usando o <code>@Inject</code> ao invés do <code>@EJB</code>. Faça o teste!</span></p>
          <p>Se você quiser verificar se o singleton está realizando o seu trabalho, siga em frente e remova a anotação <code>@Singleton</code> da classe <code>SingletonOrderRepository</code> e troque ele por <code>@Stateful</code>. Você deverá ver um erro de validação quando você executar o teste. Reverta as modificações e a barra voltará a ficar verde.</p>
          <p>Estamos trabalhando com o JBoss AS no momento, então use a tela de Servidores para interromper o servidor. Agora vamos tentar o mesmo teste no GlassFish 3.1.2.</p>
          <h4>Executando o teste no GlassFish</h4>
          <p>Para executar o teste de forma standalone no servidor GlassFish, comece iniciando o servidor. Abra a tela de Servidores, selecione o GlassFish 3.1.2, então clique no botão verde de play. Aguarde ele iniciar.</p>
          <p>Uma vez iniciado e executando, ative o profile do Maven <code>arquillian-glassfish-remote</code> usando as propriedades do Maven ou selecionando o profile através do JBoss Tools Maven. Lembre-se de desativar o profile do <code>arquillian-jbossas-remote</code>. O editor do profile a seguir apresenta a seleção correta.</p>
          <p><img src="/images/guides/arquillian_tutorial_2_glassfish_profile_selection.png" alt="" /></p>
          <p>Finalmente, clique com o botão direito na classe <code>BasketTest</code> e selecione Run As &gt; JUnit Test. Você deverá ver o fluxo de execução na tela de Console e então &#8230;  uma <strong>(greenbar) barra verde</strong> na tela do JUnit!</p>
          <p>Você também pode executar o teste usando a linha de comando do Maven:</p>
          <pre class="command"><code class="command">$ mvn test -Parquillian-glassfish-remote -Dtest=BasketTest</code></pre>
          <p>Você deverá ver as seguintes linhas impressas no console:</p>
          <pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.BasketTest&#x000A;...&#x000A;Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.549 sec</code></pre>
          <p><strong>Parabéns!</strong> Você ganhou outra <strong class="greenbar">barra verde</strong>.</p>
          <p>Você também será capaz de executar o teste no GlassFish embarcado usando o profile que foi configurado no guia anterior. Faça o teste. Você também poderá depurar o teste facilmente.</p>
          <p>Claro que depurar o teste em um container embarcado é fácil, pois ele é executado no mesmo processo que iniciou o teste. Mas e como seria em um container remoto?</p>
          <h3 id="depurando_um_teste_arquillian">Depurando um teste Arquillian</h3>
          <p>Depurar um teste no container remoto? Isso parece difícil. Surpresa! Não é. Você somente precisa modificar um dos passos anteriores e adicionar um novo passo:</p>
          <ol>
          	<li><strong>Depurar no container remoto</strong></li>
          	<li>Ative o profile do Maven que adiciona o adaptador do container correspondente no classpath</li>
          	<li><strong>Configurar um breakpoint</strong></li>
          	<li>Executar o teste</li>
          </ol>
          <p>Na tela de Servidores, você poderá notar que há um ícone com um bug à direita do botão verde de play. Clique nesse botão para iniciar o servidor em modo de depuração. O Eclipse automaticamente seu depurador no container.</p>
          <p>Configure um breakpoint no método <code>addOrder()</code> do bean <code>SingletonOrderRepository</code>. Agora, execute o teste novamente clicando com o botão direito e selecionando Run As &gt; JUnit Test.</p>
          <p class="warning"><span>Você não precisa usar o Debug As &gt; JUnit Test. O código de teste está executando dentro do container, que já está em modo de depuração.</span></p>
          <p>O teste deverá parar no breakpoint. Se você estiver usando o JBoss AS, você pode abrir o console de administração e verificar se o teste da aplicação está publicado no servidor.</p>
          <p>Se você procurar na pilha de execução na tela de Debug de Eclipse, você poderá notar que o servidor está sendo controlado através de um protocolo remoto (tal como JMX ou Servlet) e o JUnit foi colocado novamente dentro do container.</p>
          <p><img src="/images/guides/arquillian_tutorial_2_debug_remote_test.png" alt="" /></p>
          <p>Você está agora bisbilhotando o servidor através do conforto da sua IDE.</p>
          <p class="warning">% Se você ver a mensagem &#8220;Source not found (Código não encontrado)&#8221; na tela do editor quando parar no breakpoint, você precisa adicionar o projeto na configuração do depurador. Para isso, clique em &quot; Edit Source Lookup Path&#8230; (Edite o caminho para localizar o código fonte)&quot;, então clique em &#8220;Add&#8230; (Adicionar&#8230;)&#8221;, selecione o Projeto Java, marque a caixa de seleção do seu projeto e clique em &#8220;OK&#8221;. Voila! Código fonte.%</p>
          <h4>Entrando nas bibliotecas externas</h4>
          <p>Se você pretente entrar em uma classe de uma biblioteca externa (código que está fora da sua aplicação), você precisa associar a biblioteca ao seu código fonte.</p>
          <p class="info"><span>Essa configuração não é necessária se você estiver usando um projeto Maven e os códigos fontes das bibliotecas estiverem disponíveis no repositório do Maven. Quando você atinge um breakpoint na biblioteca que ainda não está disponível localmente, aguarde alguns instantes para realizar o download e o código fonte irá eventualmente aparecer. Caso não apareça, provavelmente é porque o código não está no repositório e você precisará ler a seguir.</span></p>
          <p>Aqui estão alguns passos que você precisa seguir para associar uma biblioteca com seu código na configuração de depuração:</p>
          <ol>
          	<li>Selecione o menu <code>Run (Executar) &gt; Debug Configurations (Configuração de Depuração)...</code> na barra de tarefas principal;</li>
          	<li>Selecione o nome da classe de teste na categoria JUnit (ou TestNG);</li>
          	<li>Selecione a aba Fonte;</li>
          	<li>Clique no botão Adicionar&#8230; à direita;</li>
          	<li>Se o código fonte estiver em outro projeto:
          	<ol>
          		<li>Selecione o Projeto Java;</li>
          		<li>Marque o projeto que contém as classes que você quer depurar;</li>
          		<li>Clique em OK na janela de Seleção de Projeto.</li>
          	</ol></li>
          	<li>Se o código fonte é de uma biblioteca:
          	<ol>
          		<li>Selecione Arquivo Externo;</li>
          		<li>Navegue até o arquivo que contém o código fonte (que você fez download, claro).</li>
          	</ol></li>
          	<li>Clique em Fechar na janela de Configurações do Depurador.</li>
          </ol>
          <p>Você terá que completar esses passos para qualquer classe de teste que você deseja depurar, mas precisará fazer apenas uma vez.</p>
          <h3 id="depurar_um_servidor_gerenciado">Depurar um servidor gerenciado</h3>
          <p>É possível depurar usando um container gerenciado? Pode apostar! Precisamos apenas de uma pequena configuração extra.</p>
          <p>Uma vez que o Arquillian trata de iniciar e parar o container, precisamos instruir o Arquillian à iniciar o container no modo de depuração. Isso é apenas uma informação da JVM que o Arquillian precisa enviar para o servidor, que iremos fornecer usando uma propriedade de configuração do container.</p>
          <p>Antes de começarmos, precisamos pensar sobre como queremos conectar o depurador. A não ser que você clique super rápido no mouse, você terá um grande trabalho conectando o depurador antes do Arquillian começar a executar os testes. Felizmente, podemos informar para a JVM esperar para conectar no depurador antes de começar a executar a aplicação, nesse caso o JBoss AS. Isso dará tempo para clicar no botão depurar na IDE para conectar o processo.</p>
          <p>Aqui está a configuração que você precisa adicionar no descritor de configuração do Arquillian, arquillian.xml, para que o Arquillian inicie o servidor em modo de depuração: (Nenhum espaço em branco é permitido imediatamente após o inicio da tag <code>&lt;property&gt;</code>)</p>
          <div class="filename">src/test/resources/arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;container qualifier="jbossas-managed" default="true"&gt;&#x000A;        &lt;configuration&gt;&#x000A;            &lt;property name="jbossHome"&gt;target/jboss-as-7.1.1.Final&lt;/property&gt;&#x000A;            &lt;property name="javaVmArguments"&gt;-Xmx512m -XX:MaxPermSize=128m&#x000A;                -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=y&#x000A;            &lt;/property&gt;&#x000A;        &lt;/configuration&gt;&#x000A;    &lt;/container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
          <p>Note que a flag <code>suspend=y</code>. Isso informa para o processo esperar para conectar no depurador. Configuramos a porta do depurador como 8787, que é a porta que você irá fornecer na configuração do depurador. Iremos chegar lá em um minuto. Primeiro, vamos iniciar o teste.</p>
          <ol>
          	<li>Ative o profile do Maven para o <code>arquillian-jbossas-managed</code> (veja o guia <a href="/guides/getting_started">Começando</a>)</li>
          	<li>Execute o teste</li>
          </ol>
          <p>Na tela de Console, você notará que o Arquillian iniciou a instância do JBoss AS e está aguardando o depurador se conectar:</p>
          <pre class="output"><code class="output">Listening for transport dt_socket at address: 8787</code></pre>
          <p>Tudo que temos que fazer agora é conectar um depurador. Aqui está como configurar e inicar o depurador no Eclipse:</p>
          <ol>
          	<li>Selecione no menu principal <code>Run (Executar) &gt; Debug Configurations (Configurações de Depuração)...</code></li>
          	<li>Clique com o botão direito em Remote Java Application (Aplicação Java Remota) e selecione New (Novo);</li>
          	<li>No campo Name (Nome), digite &#8220;Debug JBoss AS&#8221;;</li>
          	<li>No campo Port (Porta), digite &#8220;8787&#8221;;</li>
          	<li>Clique no botão Debug (Depurar).</li>
          </ol>
          <p>A seguir temos a tela da configuração do depurador mostrando o profile de debug que criamos:</p>
          <p><img src="/images/guides/arquillian_tutorial_2_eclipse_debug_configuration.png" alt="" /></p>
          <p>Quando você clica no botão Debug (Depurar), o JBoss AS deve retornar e então para novamente quando ele encontrar o breakpoint do seu teste. Voila! Você está depurando em um container gerenciado!</p>
          <h3 id="exportar_a_publica&#231;&#227;o">Exportar a publicação</h3>
          <p>Algumas vezes, você precisará ter um pouco mais de conhecimento sobre o que o Arquillian está publicando no servidor. Felizmente, o Arquillian fornece uma maneira para exportar o arquivo antes de fazer a publicação. Atribuindo um diretório  relativo ou absoluto na propriedade <code>deploymentExportPath</code> do elemento <code>&lt;engine&gt;</code> do arquivo arquillian.xml e o Arquillian irá exportar o arquivo para a localização informada em qualquer teste Arquillian que você executar.</p>
          <div class="filename">src/test/resources/arquillian.xml</div>
          <pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;engine&gt;&#x000A;        &lt;property name="deploymentExportPath"&gt;target/deployments&lt;/property&gt;&#x000A;    &lt;/engine&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
          <p>Para habilitar a exportação apenas para um simples teste, use o argumento <code>arquillian.deploymentExportPath</code> da VM. Por exemplo: <code>-Darquillian.deploymentExportPath=target/deployments/</code>.</p>
          <p>Agora execute um teste e verifique na pasta alvo/publicações. Você deverá ver um arquivo com a extensão .jar, .war ou .ear (O Arquillian pode empacotar o arquivo definido no teste dentro de outro arquivo através de pouco de mágica). Você pode inspecionar o conteúdo desse arquivo usando um gerenciador de arquivo. Felizmente o conteúdo do arquivo te dará as informações necessárias para rastrear a classe que não foi encontrada ou o recurso que lançou uma exceção.</p>
          <p>Nesse momento, você aprendeu como executar e depurar seus testes em containers embarcados, remotos e gerenciados. Não há como te segurar agora. Continue escrevendo <em>testes reais</em> e fique orgulhoso!</p>
          <h3 id="share">Share the Knowledge</h3>
          <p>Find this guide useful?</p>
          <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Come%C3%A7ando:%20Refa%C3%A7a%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/getting_started_rinse_and_repeat_pt/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
          <div class="g-plusone" data-size="tall"></div>
          <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
          <h4>Feedback</h4>
          <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
          <h4>Recent Changelog</h4>
          <ul>
            <li>
              Mar 22, 2017:
              Resolves docs property for every component
              <em>by Bartosz Majsak</em>
            </li>
          </ul>
          <p>
            <a href="https://github.com/arquillian/arquillian.github.io/commits/develop/guides/getting_started_rinse_and_repeat_pt.textile">See full history &raquo;</a>
          </p>
        </div>
        <div id="sidebar">
          <div id="toc">
            <h3 class="chapter_header">Chapters</h3>
            <ol class="chapters">
              <li>
                <a href="#considera&#231;&#245;es" id="considerações_link">Considerações</a>
              </li>
              <li>
                <a href="#criando_os_componentes" id="criando_os_componentes_link">Criando os componentes</a>
              </li>
              <li>
                <a href="#implementa&#231;&#227;o_por_fases" id="implementação_por_fases_link">Implementação por fases</a>
              </li>
              <li>
                <a href="#escrevendo_o_teste" id="escrevendo_o_teste_link">Escrevendo o teste</a>
              </li>
              <li>
                <a href="#adicionando_os_containers_remotos" id="adicionando_os_containers_remotos_link">Adicionando os containers remotos</a>
              </li>
              <li>
                <a href="#controle_os_servidores" id="controle_os_servidores_link">Controle os Servidores</a>
              </li>
              <li>
                <a href="#executando_o_teste_do_arquillian" id="executando_o_teste_do_arquillian_link">Executando o Teste do Arquillian</a>
              </li>
              <li>
                <a href="#depurando_um_teste_arquillian" id="depurando_um_teste_arquillian_link">Depurando um teste Arquillian</a>
              </li>
              <li>
                <a href="#depurar_um_servidor_gerenciado" id="depurar_um_servidor_gerenciado_link">Depurar um servidor gerenciado</a>
              </li>
              <li>
                <a href="#exportar_a_publica&#231;&#227;o" id="exportar_a_publicação_link">Exportar a publicação</a>
              </li>
              <li>
                <a href="#share" id="share_link">Share the Knowledge</a>
              </li>
            </ol>
          </div>
        </div>
        <script>
          $(window).load(function() { activateScrollingToc(['considerações', 'criando_os_componentes', 'implementação_por_fases', 'escrevendo_o_teste', 'adicionando_os_containers_remotos', 'controle_os_servidores', 'executando_o_teste_do_arquillian', 'depurando_um_teste_arquillian', 'depurar_um_servidor_gerenciado', 'exportar_a_publicação', 'share']) })
        </script>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2017 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/docs">Documentation</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031?rel=author"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a>, hack on it, then send a <a href="https://help.github.com/articles/using-pull-requests">pull request</a>. You can also view the <a href="http://www.seethestats.com/site/arquillian.org">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js?b52ff7178db0becf75d043579212b77c1f982da3"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-18727998-3']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
